<!doctype html>
<html>
  <head>
    <title>Mentally Stoned: Prelude</title>
    <link rel="stylesheet" type="text/css" href="../style.css"/>
    <link rel="stylesheet" type="text/css" href="../style_1.css"/>
    <link rel="stylesheet" type="text/css" href="../style_2.css"/>
    <script src="../interactive.js"></script>
    <meta charset='UTF-8'>
  </head>
  <body>
    <h2>Prelude</h2>
    <span><a href="../mentally_stoned.html">[Back]</a> <span id="stars" class="star"></span></span>
    <br/>
    <br/>
    <span>Mid-January is the quietest time of the year at the North Pole. The frantic Christmas rush is over, along with the unusual phenomena that, somehow, come with it every year. This makes it all the more surprising when a multiversal rift forms and you, along with many of Santa's elves, find yourself on ... a long-abandonded college campus?</span>
    <br/>
    <br/>
    <span>After examining the situation, you determine that you can reverse the effect of the rift to escape, but it will take a lot of energy; <span class="star">9 stars</span> of energy, to be precise. It seems like the narrative structure of the universe you're in gives you <span class="star">1 star</span> every time you solve a problem, but apparently you can't even see a problem until you've solved all of those "before" it.</span>
    <br/>
    <br/>
    <span>As you try to figure out how you're ever going to solve any problems at all, you notice a piece of paper on the ground, and pick it up. It says <a href="https://github.com/betaveros/noulith"  target="_blank">"Noulith"</a> and "x is input, y is output" at the top, and contains the following... lines of code?</span>
    <pre><code class="multiline">! (iota 0) find (\i -&gt; (enumerate z) all (\[
$ map int; y := only ! x.
'W': V(0, -1), 'E': V(0, 1)}; s :=
(** &gt;&gt;&gt; (map (fold gcd))
(g).int;
(sort (
) filter (
)) then transpose
- on len
-) &gt;&gt;&gt; abs &gt;&gt;&gt; (^ 2));
.words map int; for (_ &lt;- 0
// 2 + c; h := \n -&gt;
0); for (
1)^0.5 - 1) // 2; g := \n,
2) .* (1 - z % 2)).set); y := len(s);
99 &lt;);
:1}; p := V(0,
== c); y := f('e') map (.. (f('c').only))
&gt;&gt;&gt; set
[:-1].reverse with
[i[:-1] map (!! 0), i[-1]])
[p] += 1); y := max(
\i -&gt; z[i[0]])
\z -&gt; (3 * z + 1) .+ (z //
^ 2) on int);
c -&gt; n * (n + 1)
d := {'N': V(-1, 0), 'S': V(1, 0),
dict; y := (lines ((
f := \w -&gt; (prefixes w)
flat_map transpose sum ((fold
flat_map transpose then
g := sum &gt;&gt;&gt; (2 ^); y := x.lines.reverse.
i &lt;- x) (p += d[i]; s
in)).enumerate.sum
int;
j -&gt; x[j[0]][j[1]]
j, k] -&gt; h((i g z[1]) * j) == k));
join '' then
map lines map (\i -&gt;
map(([0, float('-inf')] !!) on ('#'
n - g(f(n), 0); y := (_ g z[1])
s := set ! lines(x)[0]
then transpose map
til int(lines(x)[1] search '\\d+')) (s ||= s.flat_map(
til len(x[0])); f := \c -&gt; i filter (\
values s);
words map f fold
x .= lines; i := (0 til len(x)) ** (0
x split '\n\n')[-1])) map (
x) sum ((
y := (words
z := (words x) map int; f := \n -&gt; ((8 * n +
z := (x split '\n\n')[:-1]
zip (suffixes w)
{:0, V(0, 0)</code></pre>
  <span>You have a feeling that this code would solve all your problems, somehow, even though it seems to be disordered. Indeed, you think that <em>all you'll need from each problem is the code to solve it and the answer the code gives you,</em> with things such as where exactly you are and the description of the problem itself being otherwise irrelevant. Your overall plan is thus clear: use the code to solve the problems and get enough <span class="star">stars</span> to escape this f**king place.</span>
  </body>
</html>